<div>
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-white">Lecciones</h1>
    <a routerLink="/lessons/new" class="btn-primary"> + Nueva Lecci√≥n </a>
  </div>

  @if (loading()) {
  <div class="text-center py-12">
    <div
      class="animate-spin w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full mx-auto"
    ></div>
  </div>
  } @else if (lessons().length === 0) {
  <div class="card p-12 text-center">
    <span class="text-4xl">üìù</span>
    <h2 class="text-xl font-semibold text-white mt-4">No hay lecciones</h2>
    <p class="text-gray-400 mt-2">Crea tu primera lecci√≥n para comenzar</p>
  </div>
  } @else {
  <div class="card overflow-hidden">
    <table class="w-full">
      <thead class="bg-gray-700">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase">Orden</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase">T√≠tulo</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase">Creado</th>
          <th class="px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase">Acciones</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-700">
        @for (lesson of lessons(); track lesson.id) {
        <tr class="hover:bg-gray-700/50 transition-colors">
          <td class="px-6 py-4 text-gray-400">{{ lesson.order }}</td>
          <td class="px-6 py-4 text-white">{{ lesson.title }}</td>
          <td class="px-6 py-4 text-gray-400">{{ lesson.createdAt | date : 'dd/MM/yyyy' }}</td>
          <td class="px-6 py-4 text-right">
            <a [routerLink]="['/lessons', lesson.id, 'edit']" class="btn-secondary text-sm mr-2">
              Editar
            </a>
            <button (click)="delete(lesson.id)" class="btn-danger text-sm">Eliminar</button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }
</div>
